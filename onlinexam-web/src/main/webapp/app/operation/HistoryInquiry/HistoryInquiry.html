<div class="page-content">
    <div class="container">
        <!-- BEGIN PAGE BREADCRUMB -->
        <ul class="page-breadcrumb breadcrumb">
            <li>
                <a href="#">主页</a><i class="fa fa-circle"></i>
            </li>
            <li class="active">历史查询
            </li>
        </ul>
        <!-- END PAGE BREADCRUMB -->
        <div class="row margin-top-15">
            <div class="col-md-12">
                <div class="portlet light ">
                    <div class="portlet-title">
                        <div class="caption caption-md">
                            <i class="icon-bar-chart theme-font"></i>
                            <span class="caption-subject theme-font bold uppercase">历史报警查询</span>
                            <span class="caption-helper hide"></span>
                        </div>
                        <div class="actions">
                            <div class="btn-group">
                                <select class="form-control input-small" id="slt_dt" ng-model="vm.period.selected" ng-change="vm.searchQueryChanged();">
                                    <option value="1">一天</option>
                                    <option value="7">七天</option>
                                    <option value="30">30天</option>
                                </select>
                            </div>
                            <div class="btn-group">
                                <select class="form-control input-small" id="slt_device" ng-model="vm.device.selected" ng-change="vm.searchQueryChanged();">
                                    <option value="">全部装置</option>
                                   <!--  <option value="1">演示装置</option> -->
                                    <option ng-repeat="device in vm.device.devices" value="{{device.sltItem}}">{{device.sltValue}}</option>
                                </select>
                            </div>
                            <div class="btn-group">
                                <input type="checkbox" class="make-switch" checked data-on-text="默认" data-off-text="我的">
                            </div>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <table class="table table-striped table-bordered table-advance table-hover">
                            <thead>
                                <tr>
                                    <th>装置</th>
                                    <th>事件名称</th>
                                    <th>位号</th>
                                    <th style="width: 15%;">开始时间</th>
                                    <th style="width: 15%;">结束时间</th>
                                    <th style="width: 10%;">报警范围</th>
                                    <th style="width: 8%;">趋势图</th>
                                </tr>
                            </thead>
                            <tbody id="search_result">
                                <tr ng-repeat="alarm in vm.table.alarmsArray">
                                    <td>{{alarm.device}}</td>
                                    <td>{{alarm.describe}}</td>
                                    <td>{{alarm.name}}</td>
                                    <td>{{alarm.raiseTime|date:'yyyy-MM-dd hh:mm:ss'}}</td>
                                    <td>{{alarm.piTime|date:'yyyy-MM-dd hh:mm:ss'}}</td>
                                    <td>{{alarm.piss[0].limitLow|number:3}}~{{alarm.piss[0].limitHigh|number:3}}</td>
                                    <td><a ng-click="open(alarm.describe,alarm.name,alarm.raiseTime,alarm.piTime,alarm.piss[0].limitLow,alarm.piss[0].limitHigh)"><i class="icon-bar-chart font-green-sharp"></i></a></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="row margin-top-0">
                            <div class="col-md-12" style="text-align: right;">
                                <ul uib-pagination boundary-links="true" total-items="vm.pagination.bigTotalItems" ng-model="vm.pagination.bigCurrentPage" max-size="vm.pagination.maxSize" class="pagination-sm" boundary-link-numbers="true" rotate="false" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页" ng-change="vm.pageChanged()"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- END PAGE CONTENT -->
<script type="text/javascript">
$('.make-switch').bootstrapSwitch();
</script>
